#!/bin/bash

# Configuration
TERMINAL_WINDOW_CLASS="com.mitchellh.ghostty"
TERMINAL_WORKSPACE=1
TERMINAL_CMD="ghostty"

# Switch to the terminal workspace
hyprctl dispatch workspace $TERMINAL_WORKSPACE

# Focus terminal window if it exists on the workspace
if hyprctl clients -j | jq -e --arg class "$TERMINAL_WINDOW_CLASS" --arg ws "$TERMINAL_WORKSPACE" \
    '.[] | select(.class == $class and .workspace.id == ($ws | tonumber))' > /dev/null 2>&1; then
    # Terminal exists on workspace, focus it
    hyprctl dispatch focuswindow "class:$TERMINAL_WINDOW_CLASS"
else
    # No terminal on workspace, launch it
    $TERMINAL_CMD &
fi